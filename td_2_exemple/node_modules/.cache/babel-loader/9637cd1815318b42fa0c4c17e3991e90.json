{"ast":null,"code":"import { ADD_STUDENT, EDIT_STUDENT, DEL_STUDENT } from './actions';\nconst initialState = {\n  /**\n   * Student datas [{Object}]\n   *\n   * @param      {String}  {name}\n   * @param      {Number}  {age}\n   * @param      {Number}  {groupe}\n   */\n  students: [{\n    name: 'Bidule',\n    age: 56,\n    groupe: 3\n  }]\n};\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducer(state = initialState, action) {\n  console.log('reducer', action.type);\n\n  switch (action.type) {\n    case ADD_STUDENT:\n      return { ...state,\n        students: [...state.students, action.student]\n      };\n\n    case EDIT_STUDENT:\n      if (arrayHasIndex(state.students, action.datas.index)) {\n        return { ...state,\n          students: state.students.map((sigmap, index) => {\n            if (index === action.datas.index) {\n              return action.datas.student;\n            }\n\n            return sigmap;\n          })\n        };\n      }\n\n      return state;\n\n    case DEL_STUDENT:\n      if (arrayHasIndex(state.students, action.index)) {\n        return { ...state,\n          students: [...state.students.filter((item, index) => index !== action.index)]\n        };\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/ivann/semaine_REACT/reactJS/td_2_exemple/src/redux/reducers.js"],"names":["ADD_STUDENT","EDIT_STUDENT","DEL_STUDENT","initialState","students","name","age","groupe","arrayHasIndex","array","index","Array","isArray","hasOwnProperty","reducer","state","action","console","log","type","student","datas","map","sigmap","filter","item"],"mappings":"AAAA,SACEA,WADF,EAEEC,YAFF,EAGEC,WAHF,QAIO,WAJP;AAOA,MAAMC,YAAY,GAAG;AACrB;;;;;;;AAOCC,EAAAA,QAAQ,EAAE,CACT;AACCC,IAAAA,IAAI,EAAE,QADP;AAECC,IAAAA,GAAG,EAAE,EAFN;AAGCC,IAAAA,MAAM,EAAE;AAHT,GADS;AARU,CAArB;;AAiBA,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkBC,KAAK,CAACC,OAAN,CAAcH,KAAd,KAAwBA,KAAK,CAACI,cAAN,CAAqBH,KAArB,CAAhE;;AAEA,eAAe,SAASI,OAAT,CAAiBC,KAAK,GAAGZ,YAAzB,EAAuCa,MAAvC,EAA+C;AAC7DC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,MAAM,CAACG,IAA9B;;AACA,UAAQH,MAAM,CAACG,IAAf;AAEC,SAAKnB,WAAL;AACC,aAAO,EAAE,GAAGe,KAAL;AAAYX,QAAAA,QAAQ,EAAE,CAAE,GAAGW,KAAK,CAACX,QAAX,EAAqBY,MAAM,CAACI,OAA5B;AAAtB,OAAP;;AAED,SAAKnB,YAAL;AACC,UAAIO,aAAa,CAACO,KAAK,CAACX,QAAP,EAAiBY,MAAM,CAACK,KAAP,CAAaX,KAA9B,CAAjB,EAAuD;AACtD,eAAO,EAAC,GAAGK,KAAJ;AAAWX,UAAAA,QAAQ,EAAEW,KAAK,CAACX,QAAN,CAAekB,GAAf,CAAmB,CAACC,MAAD,EAASb,KAAT,KAAmB;AACjE,gBAAKA,KAAK,KAAKM,MAAM,CAACK,KAAP,CAAaX,KAA5B,EAAoC;AACnC,qBAAOM,MAAM,CAACK,KAAP,CAAaD,OAApB;AACA;;AACD,mBAAOG,MAAP;AACA,WAL2B;AAArB,SAAP;AAMA;;AACD,aAAOR,KAAP;;AAED,SAAKb,WAAL;AACC,UAAIM,aAAa,CAACO,KAAK,CAACX,QAAP,EAAiBY,MAAM,CAACN,KAAxB,CAAjB,EAAiD;AAChD,eAAO,EAAE,GAAGK,KAAL;AAAYX,UAAAA,QAAQ,EAAE,CAAE,GAAGW,KAAK,CAACX,QAAN,CAAeoB,MAAf,CAAsB,CAACC,IAAD,EAAOf,KAAP,KAAiBA,KAAK,KAAKM,MAAM,CAACN,KAAxD,CAAL;AAAtB,SAAP;AACA;;AACD,aAAOK,KAAP;;AAED;AACC,aAAOA,KAAP;AAvBF;AAyBA","sourcesContent":["import {\n  ADD_STUDENT,\n  EDIT_STUDENT,\n  DEL_STUDENT\n} from './actions'\n\n\nconst initialState = {\n/**\n * Student datas [{Object}]\n *\n * @param      {String}  {name}\n * @param      {Number}  {age}\n * @param      {Number}  {groupe}\n */\n\tstudents: [\n\t\t{\n\t\t\tname: 'Bidule',\n\t\t\tage: 56,\n\t\t\tgroupe: 3\n\t\t}\n\t]\n};\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducer(state = initialState, action) {\n\tconsole.log('reducer', action.type);\n\tswitch (action.type) {\n\n\t\tcase ADD_STUDENT:\n\t\t\treturn { ...state, students: [ ...state.students, action.student ] };\n\n\t\tcase EDIT_STUDENT:\n\t\t\tif (arrayHasIndex(state.students, action.datas.index)) {\n\t\t\t\treturn {...state, students: state.students.map((sigmap, index) => {\n\t\t\t\t\tif ( index === action.datas.index ) {\n\t\t\t\t\t\treturn action.datas.student;\n\t\t\t\t\t}\n\t\t\t\t\treturn sigmap;\n\t\t\t\t})};\n\t\t\t}\n\t\t\treturn state;\n\n\t\tcase DEL_STUDENT:\n\t\t\tif (arrayHasIndex(state.students, action.index)) {\n\t\t\t\treturn { ...state, students: [ ...state.students.filter((item, index) => index !== action.index) ] };\n\t\t\t}\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}"]},"metadata":{},"sourceType":"module"}